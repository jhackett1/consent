# Migration `20201205011023-add-activity-table`

This migration has been generated by Jaye Hackett at 12/5/2020, 1:10:23 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Activity" (
"id" SERIAL,
    "name" TEXT NOT NULL,
    "created_at" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updated_at" TIMESTAMP(3) NOT NULL,
    "team_id" INTEGER NOT NULL,

    PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "Activity.name_team_id_unique" ON "Activity"("name", "team_id")

ALTER TABLE "Activity" ADD FOREIGN KEY("team_id")REFERENCES "Team"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201204195935-projects-within-teams-must-have-unique-names..20201205011023-add-activity-table
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Team {
   id Int @id @default(autoincrement())
@@ -36,8 +36,18 @@
   team Team @relation(fields: [team_id], references: [id])
   @@unique([name, team_id])
 }
+model Activity {
+  id Int @id @default(autoincrement())
+  name String
+  created_at DateTime @default(now())
+  updated_at DateTime @updatedAt
+  team_id Int
+  team Team @relation(fields: [team_id], references: [id])
+  @@unique([name, team_id])
+}
+
 model session {
   sid String @id
   sess Json
   expire DateTime
```


