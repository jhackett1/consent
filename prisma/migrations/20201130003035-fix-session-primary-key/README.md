# Migration `20201130003035-fix-session-primary-key`

This migration has been generated by Jaye Hackett at 11/30/2020, 12:30:35 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "session" DROP CONSTRAINT "session_pkey",
ALTER COLUMN "sid" DROP DEFAULT,
ALTER COLUMN "sid" SET DATA TYPE TEXT,
ADD PRIMARY KEY ("sid");
DROP SEQUENCE "session_sid_seq"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201130002701-rename-session..20201130003035-fix-session-primary-key
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id Int @id @default(autoincrement())
@@ -16,9 +16,9 @@
   updated_at DateTime @updatedAt
 }
 model session {
-  sid Int @id @default(autoincrement())
+  sid String @id
   sess Json
   expire DateTime
   created_at DateTime @default(now())
   updated_at DateTime @updatedAt
```


