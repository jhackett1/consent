# Migration `20201204195935-projects-within-teams-must-have-unique-names`

This migration has been generated by Jaye Hackett at 12/4/2020, 7:59:35 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX "Project.name_team_id_unique" ON "Project"("name", "team_id")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201203222444-project-name-mandatory..20201204195935-projects-within-teams-must-have-unique-names
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Team {
   id Int @id @default(autoincrement())
@@ -33,8 +33,9 @@
   created_at DateTime @default(now())
   updated_at DateTime @updatedAt
   team_id Int
   team Team @relation(fields: [team_id], references: [id])
+  @@unique([name, team_id])
 }
 model session {
   sid String @id
```


